<h1 mat-dialog-title>{{data.isNew ? 'New' : 'Edit'}} App Type</h1>

<mat-dialog-content>
	<form #entityTypeForm="ngForm">
		<mat-form-field class="full-width" appearance="outline">
			<mat-label>Name</mat-label>
			<input matInput type="text" placeholder="Name" name="name" [(ngModel)]="appInstance.name" required>
			<p class="form-error-message" *ngFor="let e of appInstanceError?.name">
				{{e}}
			</p>
		</mat-form-field>

		<mat-form-field class="full-width" appearance="outline">
			<mat-label>Title</mat-label>
			<input matInput type="text" placeholder="Title" name="title" [(ngModel)]="appInstance.title">
			<p class="form-error-message" *ngFor="let e of appInstanceError?.title">
				{{e}}
			</p>
		</mat-form-field>

		<mat-form-field class="full-width" appearance="outline">
			<mat-label>App type</mat-label>
			<mat-select name="appType" placeholder="App Type" [(ngModel)]="appInstance.appTypeId" [required]="true">
				<mat-option *ngFor="let appType of appTypes" [value]="appType.id">
					{{appType.name}}
				</mat-option>
			</mat-select>
			<p class="form-error-message" *ngFor="let e of appInstanceError?.appTypeId">
				{{e}}
			</p>
		</mat-form-field>

		<mat-form-field class="full-width" appearance="outline">
			<mat-label>Database Provider</mat-label>
			<mat-select name="databaseProvider" placeholder="Database provider" [(ngModel)]="appInstance.databaseProviderId"
			 [required]="true">
				<mat-option *ngFor="let databaseProvider of databaseProviders" [value]="databaseProvider.id">
					{{databaseProvider.name}}
				</mat-option>
			</mat-select>
			<p class="form-error-message" *ngFor="let e of appInstanceError?.appTypeId">
				{{e}}
			</p>
		</mat-form-field>

		<mat-card style="margin-bottom: 10px">
			<h5 style="color:gray">Connection string</h5>
			<mat-form-field class="full-width" appearance="outline">
				<mat-label>Server name</mat-label>
				<input matInput type="text" placeholder="Server name" name="serverName" [(ngModel)]="appInstance.dataConnectionString.server"
				 required>
				<p class="form-error-message" *ngFor="let e of appInstanceError['dataConnectionString.Server']">
					{{e}}
				</p>
			</mat-form-field>

			<mat-form-field class="full-width" appearance="outline">
				<mat-label>Database name</mat-label>
				<input matInput type="text" placeholder="Database name" name="databaseName" [(ngModel)]="appInstance.dataConnectionString.database"
				 required>
				 <p class="form-error-message" *ngFor="let e of appInstanceError['dataConnectionString.Database']">
						{{e}}
				</p>
			</mat-form-field>

			<mat-form-field class="full-width" appearance="outline">
				<mat-label>User name</mat-label>
				<input matInput type="text" placeholder="User name" name="userName" [(ngModel)]="appInstance.dataConnectionString.user">
				<p class="form-error-message" *ngFor="let e of appInstanceError['dataConnectionString.User']">
						{{e}}
				</p>
			</mat-form-field>

			<mat-form-field class="full-width" appearance="outline">
				<mat-label>Password</mat-label>
				<input matInput type="password" placeholder="Password" name="password" [(ngModel)]="appInstance.dataConnectionString.password">
				<p class="form-error-message" *ngFor="let e of appInstanceError['dataConnectionString.Password']">
						{{e}}
				</p>
			</mat-form-field>
			<div>
				<mat-checkbox name="trusted_Connection" [(ngModel)]="appInstance.dataConnectionString.trusted_Connection">Truested
					connection</mat-checkbox>
			</div>
			<div>
				<mat-checkbox name="multipleActiveResultSets" [(ngModel)]="appInstance.dataConnectionString.multipleActiveResultSets">Multiple
					active resultSet</mat-checkbox>
			</div>
		</mat-card>

		<div>
			<mat-checkbox name="isEnabled" [(ngModel)]="appInstance.isEnabled">Is Enable</mat-checkbox>
		</div>
		<div>
			<mat-checkbox name="isProduction" [(ngModel)]="appInstance.isProduction">Is Production</mat-checkbox>
		</div>



	</form>

</mat-dialog-content>

<mat-dialog-actions>
	<button mat-icon-button (click)="save()">
		<mat-icon color="primary">save</mat-icon>
	</button>
	<button mat-icon-button (click)="cancel()">
		<mat-icon color="warn">cancel</mat-icon>
	</button>
</mat-dialog-actions>