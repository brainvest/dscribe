<div class="page-content">
  <div class="table-wrapper">
    <div class="table-toolbar">
      <span>Entity Types</span>
      <div>
        <button mat-icon-button (click)="addEntityType()">
          <mat-icon color="primary">add</mat-icon>
        </button>
        <button mat-icon-button (click)="editEntityType()" [disabled]="!selectedEntityType">
          <mat-icon color="accent">edit</mat-icon>
        </button>
        <button mat-icon-button (click)="deleteEntityType()" [disabled]="!selectedEntityType">
          <mat-icon color="warn">delete</mat-icon>
        </button>
        <button mat-icon-button (click)="openReleaseSettings()" matTooltip="Release Metadata">
          <mat-icon color="warn">new_releases</mat-icon>
        </button>
        <button mat-icon-button (click)="generateCode()" matTooltip="Generate Code">
          <mat-icon color="warn">code</mat-icon>
        </button>
      </div>
    </div>

    <table mat-table [dataSource]="appInstancesDataSource" matSort>

      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
        <td mat-cell *matCellDef="let appInstance">{{appInstance.name}}</td>
      </ng-container>

      <ng-container matColumnDef="usage">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Usage</th>
        <td mat-cell *matCellDef="let appInstance">{{getEntityTypeUsageName(appInstance.appInstanceGeneralUsageCategoryId)}}</td>
      </ng-container>

      <ng-container matColumnDef="singular">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Singular</th>
        <td mat-cell *matCellDef="let appInstance">{{appInstance.singularTitle}}</td>
      </ng-container>

      <ng-container matColumnDef="plural">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Plural</th>
        <td mat-cell *matCellDef="let appInstance">{{appInstance.pluralTitle}}</td>
      </ng-container>

      <ng-container matColumnDef="code">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Code</th>
        <td mat-cell *matCellDef="let appInstance">{{appInstance.codePath}}</td>
      </ng-container>

      <ng-container matColumnDef="displayName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Display Name</th>
        <td mat-cell *matCellDef="let appInstance">{{appInstance.displayNamePath}}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedAppInstanceColumns"></tr>
      <tr mat-row *matRowDef="let appInstance; columns: displayedAppInstanceColumns;" [ngClass]="{'highlight': selectedEntityType?.id === appInstance.id}"
        (click)="selectEntityType(appInstance)"></tr>
    </table>
    <mat-paginator id="appInstancesPaginator" #appInstancesPaginator [length]="appInstances?.length" [pageSize]="5"></mat-paginator>
  </div>
</div>
